---
title: "Hands-on Exercise 1"
author: "JanghoLee"
---

# **1.1 Learning Outcome**

In this chapter, you will learn the basic principles and essential components of ggplot2. At the same time, you will gain hands-on experience on using these components to plot statistical graphics based on the principle of Layered Grammar of Graphics. By then end of this chapter you will be able to apply the essential graphical elements provided by ggplot2 to create elegant and yet functional statistical graphics.

# **1.2 Getting Started**

## 1.2.1 Install and launching R packages

The code chunk below uses p_load() of pacman package to check if tidyverse packages are installed in the computer. If they are, then they will be launched into R.

```{r}
pacman::p_load(tidyverse)
```

## 1.2.2 Importing the data

```{r}
exam_data <- read_csv("data/Exam_data.csv")
```

# **1.3 Introducing ggplot**

## 1.3.1 R Graphics VS ggplot

```{r}
ggplot(data=exam_data, aes(x = MATHS)) +
  geom_histogram(bins=10, 
                 boundary = 100,
                 color="black", 
                 fill="grey") +
  ggtitle("Distribution of Maths scores")
```

# **1.4 Essential Grammatical Elements in ggplot2:data**

```{r}
#| eval: false
ggplot(data=exam_data)
```

# **1.5 Essential Grammatical Elements in ggplot2: Aesthetic mappings**

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x= MATHS))
```

# **1.6 Essential Grammatical Elements in ggplot2: geom**

## 1.6.1 Geometric Objects: geom_bar

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x=RACE)) +
  geom_bar()
```

## 1.6.2 Geometric Objects: geom_dotplot

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x = MATHS)) +
  geom_dotplot(dotsize = 0.5)
```

```{r}
ggplot(data=exam_data, 
       aes(x = MATHS)) +
  geom_dotplot(binwidth=2.5,         
               dotsize = 0.5) +      
  scale_y_continuous(NULL,           
                     breaks = NULL)  
```

## 1.6.3 Geometric Objects: geom_histogram()

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x = MATHS)) +
  geom_histogram()       
```

## 1.6.4 Modifying a geometric object by changing geom()

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x= MATHS)) +
  geom_histogram(bins=20,            
                 color="black",      
                 fill="light blue")  
```

## 1.6.5 Modifying a geometric object by changing aes()

```{r}
ggplot(data=exam_data, 
       aes(x= MATHS, 
           fill = GENDER)) +
  geom_histogram(bins=20, 
                 color="grey30")
```

## 1.6.6 Geometric Objects: geom-density()

```{r}
ggplot(data=exam_data, 
       aes(x = MATHS)) +
  geom_density()           
```

## 1.6.7 Geometric Objects: geom_boxplot

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(y = MATHS,       
           x= GENDER)) +    
  geom_boxplot()            
```

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(y = MATHS, 
           x= GENDER)) +
  geom_boxplot(notch=TRUE)
```

## 1.6.8 Geometric Objects: geom_violin

```{r}
ggplot(data=exam_data, 
       aes(y = MATHS, 
           x= GENDER)) +
  geom_violin()
```

## 1.6.9 Geometric Objects: geom_point()

```{r}
ggplot(data=exam_data, 
       aes(x= MATHS, 
           y=ENGLISH)) +
  geom_point()            
```

## 1.6.10 geom objects can be combined

```{r}
ggplot(data=exam_data, 
       aes(y = MATHS, 
           x= GENDER)) +
  geom_boxplot() +                    
  geom_point(position="jitter", 
             size = 0.5)        
```

# **1.7 Essential Grammatical Elements in ggplot2: stat**

## 1.7.1 Working with

```{r}
ggplot(data=exam_data, 
       aes(y = MATHS, x= GENDER)) +
  geom_boxplot()
```

## 1.7.2 Working with stat - the stat_summary() method

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(y = MATHS, x= GENDER)) +
  geom_boxplot() +
  stat_summary(geom = "point",       
               fun = "mean",         
               colour ="red",        
               size=4)               
```

## 1.7.3 Working with stat - the geom() method

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(y = MATHS, x= GENDER)) +
  geom_boxplot() +
  geom_point(stat="summary",        
             fun="mean",           
             colour="red",          
             size=4)          
```

## 1.7.4 Adding a best fit curve on a scatterplot?

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x= MATHS, 
           y=ENGLISH)) +
  geom_point() +
  geom_smooth(method=lm, 
              linewidth=0.5)
```

# **1.8 Essential Grammatical Elements in ggplot2: Facets**

## 1.8.1 Working with facet_wrap()

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x= MATHS)) +
  geom_histogram(bins=20) +
    facet_wrap(~ CLASS)
```

## 1.8.2 facet_grid() function
```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x= MATHS)) +
  geom_histogram(bins=20) +
    facet_grid(~ CLASS)
```

# **1.9 Essential Grammatical Elements in ggplot2: Coordinates**

## 1.9.1 Working with Coordinate

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x=RACE)) +
  geom_bar()
```

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x=RACE)) +
  geom_bar() +
  coord_flip()
```

## 1.9.2 Changing the y- and x-axis range

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x= MATHS, y=ENGLISH)) +
  geom_point() +
  geom_smooth(method=lm, 
              size=0.5) +  
  coord_cartesian(xlim=c(0,100),
                  ylim=c(0,100))
```

## 1.9.3 Essential Grammatical Elements in ggplot2: themes

```{r}
#| eval: false
ggplot(data=exam_data, 
       aes(x=RACE)) +
  geom_bar() +
  coord_flip() +
  theme_minimal()
```
